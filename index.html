<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PUBG Tournament Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --bg:#f5f7fb;
  --sidebar:#0f172a;
  --sidebar-text:#cbd5f5;
  --sidebar-active:#6366f1;
  --card:#ffffff;
  --border:#e5e7eb;
  --primary:#6366f1;
  --green:#22c55e;
  --red:#ef4444;
  --text:#111827;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Inter,sans-serif;
  color:var(--text);
}
.app{
  display:grid;
  grid-template-columns:260px 1fr;
  height:100vh;
}

/* SIDEBAR */
.sidebar{
  background:var(--sidebar);
  color:var(--sidebar-text);
  padding:20px;
}
.logo{
  font-size:18px;
  font-weight:700;
  color:white;
  margin-bottom:30px;
}
.nav-item{
  padding:10px 14px;
  border-radius:10px;
  cursor:pointer;
  margin-bottom:6px;
}
.nav-item.active{
  background:var(--sidebar-active);
  color:white;
}

/* MAIN */
.main{display:flex;flex-direction:column}
.header{
  height:64px;
  background:white;
  border-bottom:1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 24px;
}
.header-left{
  display:flex;
  align-items:center;
  gap:12px;
}
.status{
  padding:6px 12px;
  border-radius:999px;
  font-size:13px;
  font-weight:600;
}
.content{padding:24px;overflow:auto}

/* SECTIONS */
.section{display:none}
.section.active{display:block}

/* ADMIN */
.admin-grid{
  display:grid;
  grid-template-columns:1.6fr 1fr 1fr;
  gap:24px;
}
.card{
  position:relative;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  padding:20px;
}
.card.locked .lock-overlay{display:flex}

.lock-overlay{
  position:absolute;
  inset:0;
  background:rgba(255,255,255,.6);
  backdrop-filter:blur(1px);
  border-radius:16px;
  display:none;
  align-items:center;
  justify-content:center;
  font-weight:700;
  color:#991b1b;
  z-index:10;
}

h3{margin:0 0 14px;font-size:16px}
.label{font-size:13px;font-weight:600;margin-bottom:6px;display:block}
.input{
  width:100%;
  padding:10px 14px;
  border-radius:10px;
  border:1px solid var(--border);
  font-size:14px;
}
table{width:100%;border-collapse:collapse;font-size:14px}
th,td{border:1px solid var(--border);padding:10px;text-align:center}
th{background:#f9fafb}
select{padding:8px 14px;border-radius:12px;border:1px solid #c7cfe0}

.btn{
  padding:10px 16px;
  border-radius:999px;
  border:none;
  font-weight:600;
  font-size:14px;
  cursor:pointer;
}
.green{background:var(--green);color:white}
.red{background:var(--red);color:white}
.blue{background:var(--primary);color:white}
.btn-row{display:flex;gap:12px;margin-top:14px}

.team-count{display:flex;gap:10px;flex-wrap:wrap}
.team-pill{
  padding:10px 16px;
  border-radius:999px;
  border:1px solid var(--border);
  cursor:pointer;
}
.team-pill.active{
  background:var(--primary);
  color:white;
  border-color:var(--primary);
}

.advanced-toggle{
  margin-top:10px;
  cursor:pointer;
  font-size:13px;
  font-weight:600;
}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.4);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.modal.active{display:flex}
.modal-box{
  background:white;
  border-radius:16px;
  width:420px;
  padding:20px;
}
.modal-row{
  display:flex;
  gap:10px;
  align-items:center;
  margin-bottom:10px;
}
.modal-row span{width:30px;font-weight:700}
</style>
</head>

<body>

<div class="app">

<aside class="sidebar">
  <div class="logo">ðŸŽ® PUBG DASHBOARD</div>
  <div class="nav-item active" onclick="openTab('home',this)">HOME</div>
  <div class="nav-item" onclick="openTab('admin',this)">ADMIN PANEL</div>
  <div class="nav-item" onclick="openTab('team',this)">TEAM</div>
  <div class="nav-item" onclick="openTab('point',this)">POINT SYSTEM</div>
  <div class="nav-item" onclick="openTab('standing',this)">STANDING</div>
</aside>

<div class="main">

<header class="header">
  <div class="header-left">
    <h1 id="pageTitle">HOME</h1>
    <div class="status" id="lockStatus">ðŸ”’ Locked</div>
  </div>
  <button class="btn blue" onclick="toggleLock()">ðŸ”“ Unlock</button>
</header>

<main class="content">

<section id="home" class="section active">
  <div class="card">
    <h3>Dashboard Home</h3>
    <p>Admin Panel telah dikunci. Semua rule adalah rasmi.</p>
  </div>
</section>

<section id="admin" class="section">
  <div class="admin-grid">

    <div class="card">
      <div class="lock-overlay">ðŸ”’ Locked</div>
      <h3>Tournament Setup</h3>
      <label class="label">Tournament Name</label>
      <input class="input" id="tournamentName">

      <h3 style="margin-top:20px">Round & Map</h3>
      <table>
        <thead><tr><th>No</th><th>Map</th></tr></thead>
        <tbody id="roundTable"></tbody>
      </table>
    </div>

    <div class="card">
      <div class="lock-overlay">ðŸ”’ Locked</div>
      <h3>Tie-Break</h3>
      <table>
        <thead><tr><th>#</th><th>Code</th><th>Description</th></tr></thead>
        <tbody id="tieTable"></tbody>
      </table>
      <div class="btn-row">
        <button class="btn blue" onclick="openTieModal()">Edit Tie-Break</button>
      </div>

      <h3 style="margin-top:20px">Team Count</h3>
      <div id="teamCount" class="team-count"></div>
    </div>

    <div class="card">
      <div class="lock-overlay">ðŸ”’ Locked</div>
      <h3>Point System</h3>

      <table>
        <thead><tr><th>Place</th><th>Point</th></tr></thead>
        <tbody id="pointMain"></tbody>
      </table>

      <div class="advanced-toggle" onclick="toggleAdvanced()">
        â–¶ Placement 9â€“20 (Advanced)
      </div>

      <div id="advancedBox" style="display:none">
        <table><tbody id="pointAdv"></tbody></table>
      </div>

      <label class="label" style="margin-top:12px">Kill Point</label>
      <input class="input" type="number" id="killPoint">

      <div class="btn-row">
        <button class="btn green" onclick="saveAll()">ðŸ’¾ Save</button>
      </div>
    </div>

  </div>
</section>

<section id="team" class="section"><div class="card"><h3>Team</h3></div></section>
<section id="point" class="section"><div class="card"><h3>Point System</h3></div></section>
<section id="standing" class="section"><div class="card"><h3>Standing</h3></div></section>

</main>
</div>
</div>

<div class="modal" id="tieModal">
  <div class="modal-box">
    <h3>Edit Tie-Break Priority</h3>
    <div id="tieSelectors"></div>
    <div class="btn-row">
      <button class="btn green" onclick="applyTie()">Apply</button>
      <button class="btn red" onclick="closeTie()">Cancel</button>
    </div>
  </div>
</div>

<script>
function openTab(id,el){
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  document.querySelectorAll(".nav-item").forEach(n=>n.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  el.classList.add("active");
  pageTitle.textContent = el.textContent;
}

const TIE_OPTIONS=[
{code:"TP",label:"Total Point"},
{code:"W",label:"WWCD"},
{code:"K",label:"Kill"},
{code:"P",label:"Placement"},
{code:"LMP",label:"Last Map Placement"}
];

let config=JSON.parse(localStorage.getItem("PUBG_ADMIN"))||{
tournamentName:"ESPORTS CHALLENGE HSWP 2026 : PUBG MOBILE",
rounds:["Erangel","Miramar","Rondo"],
teamCount:20,
tieBreak:["TP","W","K","P","LMP"],
placementPoints:Object.fromEntries(
Array.from({length:20},(_,i)=>[i+1,i<1?10:i<2?6:i<3?5:i<4?4:i<5?3:i<6?2:i<8?1:0])
),
killPoint:1,
adminLock:true
};

tournamentName.value=config.tournamentName;
killPoint.value=config.killPoint;

renderAll();applyLock();

function renderAll(){
renderRounds();renderTie();renderTeam();renderPoints();
}

function renderRounds(){
roundTable.innerHTML="";
config.rounds.forEach((m,i)=>{
roundTable.innerHTML+=`<tr><td>${i+1}</td><td>${m}</td></tr>`;
});
}

function renderTie(){
tieTable.innerHTML="";
config.tieBreak.forEach((c,i)=>{
const t=TIE_OPTIONS.find(o=>o.code===c);
tieTable.innerHTML+=`<tr><td>${i+1}</td><td>${t.code}</td><td>${t.label}</td></tr>`;
});
}

function renderTeam(){
teamCount.innerHTML="";
for(let i=16;i<=20;i++){
teamCount.innerHTML+=`
<div class="team-pill ${i===config.teamCount?"active":""}">${i}</div>`;
}
}

function renderPoints(){
pointMain.innerHTML="";
pointAdv.innerHTML="";
for(let i=1;i<=20;i++){
const row=`<tr><td>${i}</td>
<td><input class="input" type="number" value="${config.placementPoints[i]}" disabled></td></tr>`;
if(i<=8) pointMain.innerHTML+=row;
else pointAdv.innerHTML+=row;
}
}

function toggleAdvanced(){
advancedBox.style.display =
advancedBox.style.display==="none"?"block":"none";
}

function toggleLock(){
config.adminLock=!config.adminLock;
localStorage.setItem("PUBG_ADMIN",JSON.stringify(config));
location.reload();
}

function applyLock(){
lockStatus.textContent=config.adminLock?"ðŸ”’ Locked":"ðŸ”“ Editable";
document.querySelectorAll(".card")
.forEach(c=>c.classList.toggle("locked",config.adminLock));
}

function saveAll(){
localStorage.setItem("PUBG_ADMIN",JSON.stringify(config));
alert("Saved");
}
</script>

</body>
</html>
